## 1. 코드 품질의 목표

> 차를 산다면 품질은 최우선 고려 사항이고, 안전하고, 실제로 작동하고, 고장 나지 않고
예측 가능한 행동을 하는 차를 원한다
> 
- 자동차의 품질은 얼마나 잘 조립되었는가에 의해 결정된다. 이는 다음을 의미한다:
    - 자동차가 잘 설계되고,
    - 생산되기 전에 안정성과 신뢰성이 충분히 시험되었으며,
    - 정확한 기준에 따라 정밀하게 조립되었다는 것.

이와 마찬가지로, **고품질 소프트웨어를 만들기 위해서는 체계적으로 잘 구축된 기반이 필요하다.
바로 이것이 코드 품질을 추구하는 진정한 목적이다.**

- **코드 품질은 실제적인 관심 사항에 기반한다.**
- **좋은 코드**란 다음과 같은 목표 달성에 기여하는 코드이다
    1. 올바르게 작동한다.
    2. 작동이 멈추지 않는다.
    3. 변화하는 요구 사항에 유연하게 적응한다.
    4. 이미 구현된 기능을 중복해서 다시 만들지 않는다.

### 1.1 코드는 작동해야 한다

- 코드를 작성하는 이유는 문제를 해결하기 위함이다
- 문제를 실제로 해결해야 하고, 버그가 없다는 것을 의미한다
- 작동한다라는 것은 예를들어 문제가 성능향상이라면 코드가 그에 맞게 수행되도록 하는 것이다

### 1.2. 코드는 작동이 멈추면 안된다

- 코드는 다른 코드에 의존할 수 있는데, 그 코드가 수정되고 변경될 수 있다
- 새로운 기능이 필요할 때 코드를 수정해야 할 수도 있다
- 우리가 해결하려고 하는 문제는 시간이 지남에 따라 변경된다

현재는 잘 돌아가지만 미래에 이런 것 중 하나가 변경될 경우, 제대로 동작하지 않는다면 그 코드는 별로 유용한 코드가 아니다

나중에 생각하거나 이후에 몇 가지 테스트를 추가하면 될 것이라고 가정하는 것은 효과적인 접근법이 아니다

### 1.3. 코드는 변경된 요구 사항에 적응할 수 있어야 한다

### 1.4. 코드는 이미 존재하는 기능을 중복 구현해서는 안된다

기존 코드를 재사용하는 장점이 있다

- 시간과 노력을 절약한다
- 버그 가능성을 줄여준다
- 기존 전문지식을 활용한다
- 코드가 이해하기 쉽다

코드 품질의 여섯 가지 핵심 요소가 있다

1. 코드는 일기 쉬워야 한다
2. 코드는 예측 가능해야 한다
3. 코드는 오용하기 어렵게 만들라
4. 코드를 모듈화하라
5. 코드는 재사용 가능하고, 일반화할 수 있게 작성하라
6. 테스트가 용이한 코드를 작성하고, 제대로 테스트하라

## 2. 코드 품질의 핵심 요소

### 2.1 코드는 읽기 쉬워야 한다

- 코드의 가독성이 떨어진다면, 다른 개발자가 코드를 이해하는 데 많은 시간을 들여야 한다
- 그로인해, 코드의 기능에 대해 잘못 이해하거나 몇 가지 중요한 세부 사항을 놓칠 가능성이 크다
- 레시피와 마찬가지로 코드도 읽을 수 있어야 한다

### 2.2 코드는 예측 가능해야 한다

- 좋은 의도를 가지고 잇더라도 예상을 벗어난 동작을 수행하면, 개발자는 그 상황을 알지 못하거나 그 상황에 대처할 생각을 하지 못할 것이다
- 코드가 예상을 벗어나는 일을 수행하지 않는지 주의 깊게 살펴야 한다

### 2.3. 코드를 오용하기 어렵게 만들라

- 모니터의 전원과 HDMI소켓이 같다면 실수로 잘못 꽂았을 때 모니터가 터질 수도 있다
- 자신이 작성한 코드에 잘못된 것이 꽂히면 모든 것이 폭발할 수 있다
- 오용하기 어렵게 만들면 계속해서 잘 작동할 가능성을 극대화할 수 있다

### 2.4. 코드를 모듈화하라

![image.png](attachment:c896ebce-90d4-44b7-8fbd-398483caf9f8:image.png)

- 모듈화된 시스템의 주요 특징 중 하나는 인터페이스가 잘 정의되어 서로 다른 구성 요소 간 상호작용하는 지점이 최소화된다는 점이다.
- 모듈화된 시스템은 이해하기 쉽고 추론하기 쉬워서 개발자들이 오해할 소지가 적어진다

### 2.5 코드를 재사용 가능하고 일반화할 수 있게 작성하라

- 재사용성: 어떤 문제를 해결하기 위한 무언가가 여러 가지 다른 상황에서도 사용될 수 있음을 의미한다
    - 예) 핸드 드릴로 벽, 바닥 판 및 천장에 구멍을 뚫는 데 사용할 수 있다
- 일반화성: 개념적으로는 유사하지만 서로 미묘하게 다른 문제들을 해결할 수 있음을 의미한다
    - 예) 핸드 드릴은 구멍을 뚫는 데 사용될 뿐만 아니라 나사를 박을 때도 사용될 수 있다
- 코드를 더 많이 작성할수록 더 많은 버그가 생긴다
- 코드가 재사용될 수 있고 일반화되어 있다면 여러 상황에서 사용할 수 있고, 여러 문제를 해결할 수 있다

### 2.6. 테스트가 용이한 코드를 작성하고 제대로 테스트하라

- 소프트웨어 시스템과 코드베이스는 너무 크고 복잡해 한 사람이 모든 세부사항을 알 수 없다
- 사람은 실수를 하는 존재다
- 테스트 용이성이 낮으면 제대로 테스트 하는 것이 불가능할 수 있다.
    - 테스트 용이성을 확인하기 위해 코드를 작성하면서 `어떻게 테스트할 것인가` 계속 자문하는 것이 좋다
    - 코드르 다 작성하고 나서 테스트에 대해 생각해서는 안된다

## 3. 고품질 코드 작성은 일정을 지연시키는가?

- 단기적으로는 바로 코딩하는 것보다는 조금 더 많은 생각과 노력이 필요하기 때문에 더 걸릴 수 있다
- 하지만 중장기적으로는 개발 시간을 단축해준다
- 새로운 기능을 추가허간 버그를 수정하는 것이 점점 어려어지고 시간도 더 많이 걸린다